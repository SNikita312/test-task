(function(e){function t(t){for(var n,i,l=t[0],o=t[1],u=t[2],d=0,v=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);c&&c(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/test-task/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"103e":function(e,t,a){},"4ffd":function(e,t){e.exports="data:image/png;base64,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"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-header"),a("div",{staticClass:"page-content container"},[a("router-view",{attrs:{"user-data":e.userData},on:{"save-person":function(t){return e.savePerson(t)}}})],1),a("v-footer")],1)},s=[],i=a("5530"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header"},[n("div",{staticClass:"container"},[n("div",{staticClass:"header__content"},[n("router-link",{staticClass:"header__logo",attrs:{to:"/"}},[n("img",{staticClass:"header__logo-img",attrs:{src:a("4ffd"),alt:"logo"}})]),n("nav",[n("ul",{staticClass:"header__nav"},[n("li",{staticClass:"header__nav-li"},[n("router-link",{staticClass:"header__nav-link",attrs:{"exact-active-class":"header__nav-link_active",to:"/"}},[e._v(" Форма ")])],1),n("li",{staticClass:"header__nav-li"},[n("router-link",{staticClass:"header__nav-link",attrs:{"exact-active-class":"header__nav-link_active",to:"/preview"}},[e._v(" Превью ")])],1)])])],1)])])},o=[],u={name:"VHeader"},c=u,d=(a("e7c7"),a("2877")),v=Object(d["a"])(c,l,o,!1,null,null,null),p=v.exports,f=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("p",{staticClass:"footer__text"},[e._v("all rights reserved")])])}],h={name:"Footer"},_=h,b=(a("8954"),Object(d["a"])(_,f,m,!1,null,null,null)),g=b.exports,C=a("8c4f"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},[a("section",{staticClass:"form__personal-area"},[a("h3",{staticClass:"form__title"},[e._v("Персональные данные")]),a("v-input",{class:["form__field",e.personData.name.valid?"":"invalid"],attrs:{type:"text","class-name":"form__input",label:"Имя"},on:{blur:function(t){return e.validateName(e.personData.name)}},scopedSlots:e._u([e.personData.name.valid?null:{key:"error",fn:function(){return[a("span",{staticClass:"form__field-error"},[e._v(" "+e._s(e.personData.name.value.length?"Имя должно содержать буквы":"Поле обязательно к заполнению")+" ")])]},proxy:!0}],null,!0),model:{value:e.personData.name.value,callback:function(t){e.$set(e.personData.name,"value",t)},expression:"personData.name.value"}}),a("v-input",{class:["form__field",e.personData.age.valid?"":"invalid"],attrs:{type:"number","class-name":"form__input",label:"Возраст"},on:{blur:function(t){return e.validateAge(e.personData.age)}},scopedSlots:e._u([e.personData.age.valid?null:{key:"error",fn:function(){return[a("span",{staticClass:"form__field-error"},[e._v(" "+e._s(e.personData.age.value?"Возраст не может быть больше 100":"Поле обязательно к заполнению")+" ")])]},proxy:!0}],null,!0),model:{value:e.personData.age.value,callback:function(t){e.$set(e.personData.age,"value",e._n(t))},expression:"personData.age.value"}})],1),a("section",{staticClass:"form__children-area"},[a("div",{class:["form__block-flex",e.canAddChildren?"form__block-flex_reverse":""]},[e.canAddChildren?a("button",{staticClass:"btn-transparent form__add-child",attrs:{type:"button"},on:{click:function(t){return e.addChild()}}},[e._v(" Добавить ребенка ")]):e._e(),a("h3",{staticClass:"form__title"},[e._v(" Дети (макс. 5) ")])]),e._l(e.personChildren,(function(t){return a("div",{key:t.id,staticClass:"form__block-flex"},[a("v-input",{class:["form__field",t.name.valid?"":"invalid"],attrs:{type:"text","class-name":"form__input",label:"Имя"},on:{blur:function(a){return e.validateName(t.name)}},scopedSlots:e._u([t.name.valid?null:{key:"error",fn:function(){return[a("span",{staticClass:"form__field-error"},[e._v(" "+e._s(t.name.value.length?"Имя должно содержать буквы":"Поле обязательно к заполнению")+" ")])]},proxy:!0}],null,!0),model:{value:t.name.value,callback:function(a){e.$set(t.name,"value",a)},expression:"child.name.value"}}),a("v-input",{class:["form__field",t.age.valid?"":"invalid"],attrs:{type:"number","class-name":"form__input",label:"Возраст"},on:{blur:function(a){return e.validateAge(t.age)}},scopedSlots:e._u([t.age.valid?null:{key:"error",fn:function(){return[a("span",{staticClass:"form__field-error"},[e._v(" "+e._s(t.age.value.length?"Имя должно содержать буквы":"Поле обязательно к заполнению")+" ")])]},proxy:!0}],null,!0),model:{value:t.age.value,callback:function(a){e.$set(t.age,"value",e._n(a))},expression:"child.age.value"}}),a("p",{staticClass:"form__delete-btn",on:{click:function(a){return e.removeChild(t.id)}}},[e._v(" Удалить ")])],1)}))],2),a("button",{staticClass:"btn-solid form__submit",attrs:{type:"button"},on:{click:e.submit}},[e._v(" Сохранить ")])])},y=[],D=(a("c740"),a("a434"),a("ac1f"),a("00b4"),a("b0c0"),a("d3b7"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-input"},[a("input",e._b({class:e.className,attrs:{required:""},on:{input:function(t){return e.$emit("input",t.target.value)},blur:function(t){return e.$emit("blur")}}},"input",e.$attrs,!1)),a("label",[e._v(e._s(e.label))]),e._t("error")],2)}),x=[],w={name:"VInput",inheritAttrs:!1,props:{label:{type:String,required:!0},className:{type:String,default:""}}},j=w,O=(a("715f"),Object(d["a"])(j,D,x,!1,null,null,null)),P=O.exports,k=(a("d81d"),{toClient:function(e){return{name:e.name.value,age:e.age.value,children:e.children.map((function(e){return{id:e.id,name:e.name.value,age:e.age.value}}))}},toForm:function(e){return{personData:{name:{value:e.name,valid:!0},age:{value:e.age,valid:!0}},personChildren:e.children.map((function(e){return{id:e.id,name:{value:e.name,valid:!0},age:{value:e.age,valid:!0}}}))}}}),R={name:"Form",components:{VInput:P},props:{userData:{type:Object,required:!0}},data:function(){return{personData:{name:{value:"",valid:!0},age:{value:"",valid:!0}},personChildren:[]}},computed:{canAddChildren:function(){return this.personChildren.length<5}},methods:{addChild:function(){var e={id:this.generateId(),name:{value:"",valid:!0},age:{value:"",valid:!0}};this.personChildren.push(e)},removeChild:function(e){var t=this.personChildren.findIndex((function(t){return t.id===e}));t<0||this.personChildren.splice(t,1)},generateId:function(){var e=new Date;return e.getMilliseconds()},submit:function(){this.validateForm()&&this.$emit("save-person",k.toClient(Object(i["a"])(Object(i["a"])({},this.personData),{},{children:this.personChildren})))},validateName:function(e){e.valid=/[а-яёА-ЯЁa-zA-Z ]/g.test(e.value)},validateAge:function(e){e.valid=!!e.value&&e.value<100},validateForm:function(){var e=this;this.validateName(this.personData.name),this.validateAge(this.personData.age);var t=this.personData.name.valid&&this.personData.age.valid;return this.personChildren.forEach((function(a){e.validateName(a.name),e.validateAge(a.age),t=!(!a.name.valid||!a.age.valid)&&t})),t}},mounted:function(){var e=k.toForm(this.userData),t=e.personData,a=e.personChildren;this.personData=t,this.personChildren=a}},F=R,S=(a("7a82"),Object(d["a"])(F,A,y,!1,null,null,null)),H=S.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview form"},[a("section",{staticClass:"preview__personal-area"},[a("h3",{staticClass:"form__title"},[e._v("Персональные данные")]),e.userData.name&&e.userData.age?a("h3",{staticClass:"preview__personal-data preview__data"},[e._v(" "+e._s([e.userData.name,e.ageToHuman(e.userData.age)].join(", "))+" ")]):e._e()]),e.userData.children.length?a("section",{staticClass:"preview__children-area"},[a("h3",{staticClass:"form__title"},[e._v("Дети")]),e._l(e.userData.children,(function(t){return a("h3",{key:t.id,staticClass:"preview__child-data preview__data"},[e._v(" "+e._s([t.name,e.ageToHuman(t.age)].join(", "))+" ")])}))],2):e._e()])},X=[],E={name:"Preview",props:{userData:{type:Object,required:!0}},methods:{ageToHuman:function(e){return"".concat(e,e>10&&e<20?" лет":e%10>1&&e%10<5?" года":e%10===1?" год":" лет")}}},M=E,N=(a("86ec"),Object(d["a"])(M,I,X,!1,null,null,null)),T=N.exports;n["a"].use(C["a"]);var U=[{path:"/",name:"Form",component:H,props:!0},{path:"/preview",name:"Preview",component:T,props:!0}],V=new C["a"]({mode:"history",base:"/test-task/",routes:U}),z=V,J={name:"App",components:{VHeader:p,VFooter:g},data:function(){return{userData:{name:"",age:"",children:[]}}},methods:{savePerson:function(e){this.userData=Object(i["a"])(Object(i["a"])({},this.userData),e),z.push("preview")}}},Z=J,B=(a("cf25"),Object(d["a"])(Z,r,s,!1,null,null,null)),L=B.exports;a("ebe2");n["a"].config.productionTip=!1,new n["a"]({router:z,render:function(e){return e(L)}}).$mount("#app")},"5ead":function(e,t,a){},"715f":function(e,t,a){"use strict";a("5ead")},"7a82":function(e,t,a){"use strict";a("e6d2")},"86ec":function(e,t,a){"use strict";a("c75f")},8954:function(e,t,a){"use strict";a("e3d4")},c75f:function(e,t,a){},cf25:function(e,t,a){"use strict";a("fea6")},e3d4:function(e,t,a){},e6d2:function(e,t,a){},e7c7:function(e,t,a){"use strict";a("103e")},ebe2:function(e,t,a){},fea6:function(e,t,a){}});
//# sourceMappingURL=app.ed6dd4bb.js.map